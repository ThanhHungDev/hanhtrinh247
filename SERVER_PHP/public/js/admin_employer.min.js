function deleteEmployer(){let e=$('input[name="idDelete"]').val();ajaxDeleteEmployer($('input[name="actionDelEmp"]').val(),e)}function ajaxDeleteEmployer(e,t){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:e,type:"post",data:{id:t},dataType:"json",success:function(e){200==e.code?($.toast({heading:"Success!",text:e.messages,showHideTransition:"slide",icon:"success",position:"top-right"}),location.reload()):$.toast({heading:"Error!",text:e.messages,showHideTransition:"slide",icon:"error",position:"top-right"})}})}function ajaxGetDetailsEmployer(e,t){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:e,type:"post",data:{id_profile:t},dataType:"json",success:function(e){(e.code=200)?(fillDataToModal(e.data),$("#details-employer-modal").modal({closeClass:"popup-lose",escapeClose:!1,showClose:!1})):$.toast({heading:"Warning!",text:e.messages,showHideTransition:"slide",icon:"warning",position:"top-right"})}})}function fillDataToModal(e){let t=1;$(".child-info").html(""),e.forEach(function(e,a){let i="";switch(e.type){case 1:i="fa";break;case 2:i="mom";break;case 3:i="child"}if(3!=e.type&&($('p[data-name="'+i+'"]').text(e.first_name+"　"+e.last_name),$('p[data-gender="'+i+'"]').text(1==e.gender?"男性":"女性"),$('p[data-age="'+i+'"]').text(e.age_year+"歳")),3==e.type){let a=1===e.gender?"男の子":"女の子",i=!0===e.allergic?"有":"無",l=!0===e.chronic?"有":"無";$("#child-default").find('label[type="child-num"]').text("お子様"+t),$("#child-default").find('p[data-name="child"]').html(e.first_name+"　"+e.last_name),$("#child-default").find('p[data-gender="child"]').html(a),$("#child-default").find('p[data-age="child"]').html(e.age_year+"歳"+e.age_month+"ヶ月"),$("#child-default").find('p[data-alegic="child"]').html(i),$("#child-default").find('p[data-chronic="child"]').html(l);let o=$("#child-default").html();$(".child-info").append(o),t++}})}$(document).ready(function(){$(".get-detail").click(function(){ajaxGetDetailsEmployer($(this).attr("data-action"),$(this).attr("data-id-profile"))}),$(".btn-delete").click(function(e){let t=$(this).attr("data-id");$('input[name="idDelete"]').val(t),$("#deleteEmployer").modal({closeClass:"popup-lose",escapeClose:!1,showClose:!1})})});