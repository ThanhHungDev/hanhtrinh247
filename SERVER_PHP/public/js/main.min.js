function showErrorSystem(e){alert(" có lỗi "),console.log(e)}function deleteSlug(e,t,n){var i=confirm("Có chắc muốn xóa không?");"undefined"==typeof SYSTEM_DELETE_SLUG_ACTION&&showErrorSystem("SYSTEM_DELETE_SLUG_ACTION"),i&&$.ajax({type:"DELETE",url:SYSTEM_DELETE_SLUG_ACTION,data:{slug:e,table:t},dataType:"JSON",success:function(e){200==e.status?$(n).closest("tr").remove():alert(e.message)}})}function showImage__InputCKFinder(e,t){var n=$(t).closest(".wrapper__selectImageWithCKFinder"),i=n.find(".output-image-finder");i&&i.remove();var a=n.find("input.img__outputCKFinder");a&&(a.val(e),a.valid());var u=document.createElement("img");u.id="output-image-finder",u.className="output-image-finder",u.src=e,n.find("input.img__outputCKFinder").parent().append(u)}function selectImageWithCKFinder(e){CKFinder.popup({chooseFiles:!0,width:800,height:600,onInit:function(t){t.on("files:choose",function(t){showImage__InputCKFinder(t.data.files.first().getUrl(),e)}),t.on("file:choose:resizedImage",function(t){showImage__InputCKFinder(t.data.resizedUrl,e)})}})}function createSlug(e){return e=e.toLowerCase(),wanakana&&(e=wanakana.toRomaji(e)),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/[\u00C0-\u00C5]/gi,"a")).replace(/[\u00C8-\u00CB]/gi,"e")).replace(/[\u00CC-\u00CF]/gi,"i")).replace(/[\u00D2-\u00D6]/gi,"o")).replace(/[\u00D9-\u00DC]/gi,"u")).replace(/[\u00D1]/gi,"n")).trim().replace(/ /g,"-")).replace(/[\-]{2}/g,"")}function isExistSlug(e){var t=createSlug(e);if(!t)return!1;$("input[name=slug]").val(t),$("#result-slug").remove(),$("button[type=submit]").attr("disabled",!0),fetch(ACTION_CHECK_SLUG+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>(console.log(e),e.ok?showResultSlugExisted(!0):showResultSlugExisted(!1))).catch(e=>{alert("có lỗi")})}function showResultSlugExisted(e){var t="slug đã tồn tại",n="text-color-danger";e||(t="slug chưa tồn tại",n="text-color-success-color-dark");var i=document.createElement("p");i.id="result-slug",i.className=n,i.textContent=t,$("input[name=slug]").parent().append(i),$("button[type=submit]").attr("disabled",e)}function runSelect2Single(e){e.select2({language:{noResults:function(){return"không có kết quả trùng khớp"}}})}function runSelect2Multi(e){e.select2({language:{noResults:function(){return"không có kết quả trùng khớp"}}})}function showAllImagesCkfinderOnload(e){e.each(function(e){var t=$(this).val();console.log(t),t&&showImage__InputCKFinder(t,this)})}$(document).ready(function(){var e=$(".js__single-select"),t=$(".js__multi-select");e.length&&runSelect2Single(e),t.length&&runSelect2Multi(t);var n=$(".img__outputCKFinder");n.length&&showAllImagesCkfinderOnload(n)}),document.getElementById("editor1")&&CKEDITOR.replace("editor1");