function ajaxGetDetailsSitter(t,e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:t,type:"get",async:!1,success:function(t){200==t.code?(setDataToDetail(t.data),$("#details-sitter-modal").modal({closeClass:"popup-lose",escapeClose:!1,showClose:!1})):$.toast({heading:"Error!",text:t.messages,showHideTransition:"slide",icon:"Error",position:"top-right"}),$(e).prop("disabled",!1)},error:function(t){$.toast({heading:"Error!",text:"User has not updated information!",showHideTransition:"slide",icon:"error",position:"top-right"}),$(e).prop("disabled",!1)}})}function setDataToDetail(t){let e=document.getElementById("image-qualifi");e.innerHTML="",t.galaries.forEach(t=>{let i=t,a=document.createElement("div");a.classList.add("item-img");let s=document.createElement("img");s.setAttribute("src",i),a.appendChild(s),e.appendChild(a)}),$("#experiences").text(t.experiences.toString()),$("#skills").text(t.skills.toString()),$("#name").text(t.contact.contact_name),$("#full-address").text(t.contact.contact_address),$("#num-phone").text(t.contact.contact_phone),$("#relationship").text(t.contact.contact_relationship)}function ajaxUpdatePublish(t,e,i){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:t,data:e,type:"post",success:function(t){200==t.code?$.toast({heading:"Success!",text:t.messages,showHideTransition:"slide",icon:"success",position:"top-right"}):$.toast({heading:"Error!",text:t.messages,showHideTransition:"slide",icon:"error",position:"top-right"}),$(i).prop("disabled",!1)},error:function(t){$.toast({heading:"Error!",text:"update fail!",showHideTransition:"slide",icon:"error",position:"top-right"}),$(i).prop("disabled",!1)}})}function ajaxDeleteSitter(t,e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:t,data:e,type:"post",success:function(t){200==t.code?($.toast({heading:"Success!",text:t.messages,showHideTransition:"slide",icon:"success",position:"top-right"}),setTimeout(function(){location.reload()},500)):$.toast({heading:"Error!",text:t.messages,showHideTransition:"slide",icon:"error",position:"top-right"})},error:function(t){$.toast({heading:"Error!",text:"Delete fail!",showHideTransition:"slide",icon:"error",position:"top-right"})}})}function ajaxConfirmSitter(t,e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:t,data:e,type:"post",success:function(t){200==t.code?(deleteHTMLItemSitter("action-confrim-",t.id),$.toast({heading:"Success!",text:t.messages,showHideTransition:"slide",icon:"success",position:"top-right"})):$.toast({heading:"Error!",text:t.messages,showHideTransition:"slide",icon:"error",position:"top-right"}),$(this).prop("disabled",!1)},error:function(t){$.toast({heading:"Error!",text:"Accept fail!",showHideTransition:"slide",icon:"error",position:"top-right"}),$(this).prop("disabled",!1)}})}function deleteHTMLItemSitter(t,e){document.getElementById(t+e).remove()}function deleteSitter(){ajaxDeleteSitter($("#deleteSitter").attr("data-url"),{id:$("#deleteSitter").attr("data-item")})}$(document).ready(function(){$("#slt_datepicker").multiDatesPicker({beforeShow:function(t,e){$("#ui-datepicker-div").addClass("single-picker")}}),$(".js-public-sitter").on("click",function(){let t=$(".bl-toggle-public[for="+this.id+"]");this.checked?t.text("公開中"):t.text("非公開");let e=$(this).attr("data-url"),i={id:$(this).attr("data-item"),publish:$(this).is(":checked")};$(this).prop("disabled",!0),ajaxUpdatePublish(e,i,this)}),$(".js-detail-sitter").on("click",function(){let t=$(this).attr("data-url");$(this).prop("disabled",!0),ajaxGetDetailsSitter(t,this)}),$(".js-delete-sitter").on("click",function(){$("#deleteSitter").attr("data-item",$(this).attr("data-item")),$("#deleteSitter").attr("data-url",$(this).attr("data-url")),$("#deleteSitter").modal({escapeClose:!1,showClose:!1})}),$(".js-activity-sitter, .js-unactivity-sitter").on("click",function(){let t=$(this).attr("data-url"),e={id:$(this).attr("data-item"),admin_confirm:$(this).attr("data-confirm")};$(this).prop("disabled",!0),ajaxConfirmSitter(t,e)}),$(".js-history-chat").on("click",function(){let t=$(this).attr("data-url");location.assign(t)})});