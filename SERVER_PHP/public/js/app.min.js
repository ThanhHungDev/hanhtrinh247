function backToTop(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(this.backToTop,10))}function detectDevice(){var e=window.innerWidth,t="laptop-device";return e<767&&(t="mobile-device"),e>767&&e<=960&&(t="tablet-device"),e>960&&(t="laptop-device"),t}function handleDevice(e){void 0===e&&(e=detectDevice());var t=document.getElementById("js-style-device");if(t){if("laptop-device"==e){var o=document.getElementById("js-iframe-review-template"),s=document.getElementById("js-menu-theme-detail");if(o&&s){var i=s.clientHeight;t.style.height=window.innerHeight-i-5+"px"}else t.style.height=null}else"tablet-device"==e?t.style.height="768px":"mobile-device"==e&&(t.style.height="540px");if(t.classList.contains(e))return;t.classList.remove("laptop-device"),t.classList.remove("tablet-device"),t.classList.remove("mobile-device"),t.classList.add(e)}$("#js-icon-laptop-device").removeClass("active"),$("#js-icon-tablet-device").removeClass("active"),$("#js-icon-mobile-device").removeClass("active"),$("#js-icon-"+e).addClass("active")}function viewDevice(e){void 0===e&&(e=detectDevice());var t=document.getElementById("js-type-view");if(t){if(t.classList.contains(e))return;t.classList.remove("laptop-device"),t.classList.remove("tablet-device"),t.classList.remove("mobile-device"),t.classList.add(e)}$("#js-icon-laptop-device").removeClass("active"),$("#js-icon-tablet-device").removeClass("active"),$("#js-icon-mobile-device").removeClass("active"),$("#js-icon-"+e).addClass("active")}function checkInViewPosition(e){var t=$(window).height(),o=$(window).scrollTop(),s=o+t;$.each(e,function(){var e=$(this),t=e.outerHeight(),i=e.offset().top;i+t>=o&&i<=s?e.removeClass("animated-initial"):e.addClass("animated-initial")})}function formatPositionHomePage(){var e=this.scrollY,t=document.getElementsByClassName("component-web-design-image");if(t.length){var o=t[0].clientHeight,s=0;s=e>o?100:parseInt(100*e*100/o)/100,s*=.5,document.getElementsByClassName("box-samples-img-1")[0].style.top=20+s+"%",document.getElementsByClassName("box-samples-img-2")[0].style.top=10-s+"%",document.getElementsByClassName("box-samples-img-3")[0].style.bottom=10-s+"%",document.getElementsByClassName("box-samples-img-3")[0].style.right=20-s+"%"}}function formatHeightHeader(){if(document.getElementsByClassName("js-nomal-height").length){var e=document.getElementsByClassName("js-nomal-height")[0].clientHeight;document.getElementsByClassName("component-web-design-image")[0].style.height=e+"px"}}function drawGoogleMap(){var e=new google.maps.StyledMapType([{stylers:[{saturation:0}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],{name:"Google Map"}),t=new google.maps.LatLng(10.651623,107.270763),o={zoom:10,scrollwheel:!1,center:t,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},s=new google.maps.Marker({position:t,map:i,icon:"/images/map-icon.png"}),i=new google.maps.Map(document.getElementById("map-canvas"),o);i.mapTypes.set("map_style",e),i.setMapTypeId("map_style"),s.setMap(i);var a='<div class="address_detail_map"><h4 class="main_color">'+CONFIG_COMPANY_NAME+"</h4>"+CONFIG_COMPANY_ADDRESS+"</div>";a=a.split("\n").join("<br />");var n=new google.maps.InfoWindow({content:a});s.addListener("click",function(){n.open(i,s)}),n.open(i,s)}function closeMenuToggle(){window.innerWidth>767||(document.getElementById("js-toggle-menu-mobile").classList.toggle("open"),document.body.classList.remove("neo-scroll"))}function activeMenuMobile(){if(!(window.innerWidth>767)){var e=event.target.parentElement;e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active-temp");var t=document.getElementById("js-toggle-menu-mobile").getElementsByClassName("dropdown-menu");if(t.length)for(var o=0;o<t.length;o++)t[o].classList.contains("active")&&t[o].classList.remove("active"),t[o].classList.contains("active-temp")&&(t[o].classList.remove("active-temp"),t[o].classList.add("active"))}}function toggleMenu(){var e=document.getElementById("js-toggle-menu-mobile");e&&(e.classList.toggle("open"),document.body.classList.toggle("neo-scroll"))}function drawMapContact(){if(!document.getElementById("map-contact-canvas"))return!1;var e=new google.maps.StyledMapType([{stylers:[{saturation:0}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:0},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],{name:"Google Map"}),t=new google.maps.LatLng(35.707616,139.669912),o={zoom:17,scrollwheel:!1,center:t,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},s=new google.maps.Marker({position:t,map:i,icon:"/images/map-icon.png"}),i=new google.maps.Map(document.getElementById("map-contact-canvas"),o);i.mapTypes.set("map_style",e),i.setMapTypeId("map_style"),s.setMap(i);var a='<div class="address_detail_map"><h4 class="main_color">'+CONFIG_COMPANY_NAME+"</h4>"+CONFIG_COMPANY_ADDRESS+"</div>";a=a.split("\n").join("<br />");var n=new google.maps.InfoWindow({content:a});s.addListener("click",function(){n.open(i,s)}),n.open(i,s)}function toggleCatalogue(e){1==$(e).attr("data-toggle")?($(e).text("show"),$(e).attr("data-toggle",0),$(e).closest(".catalogue").find(".catalogue__body").addClass("d-none")):($(e).text("hide"),$(e).attr("data-toggle",1),$(e).closest(".catalogue").find(".catalogue__body").removeClass("d-none"))}function getSubscription(){return navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription())}function getNotificationPermission(){return new Promise((e,t)=>"denied"===Notification.permission?(console.log("Push messages are blocked."),t(new Error("Push messages are blocked."))):"granted"===Notification.permission?e():void("default"===Notification.permission&&Notification.requestPermission(o=>{"granted"!==o&&(console.log("Bad permission result"),t(new Error("Bad permission result"))),e()})))}function doSubscribe(){console.log("begin subscribeUser"),console.log("requestPermission success");const e={userVisibleOnly:!0,applicationServerKey:base64UrlToUint8Array(appPublicKey)};return navigator.serviceWorker.ready.then(t=>t.pushManager.subscribe(e)).then(function(e){console.log(e,"User is subscribed."),updateSubscriptionOnServer(e)}).catch(function(e){console.log("Failed to subscribe the user: ",e)})}function base64UrlToUint8Array(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(t),s=new Uint8Array(o.length);for(let e=0;e<o.length;++e)s[e]=o.charCodeAt(e);return s}function updateSubscriptionOnServer(e){console.log(e,"FETCH TO SERVER");const t=DOMAIN+"/save-subscription";return fetch(t,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}$(document).ready(function(){handleDevice(detectDevice()),viewDevice(detectDevice()),drawGoogleMap(),drawMapContact(),jQuery(window).on("resize",function(e){drawGoogleMap(),drawMapContact()}),formatHeightHeader(),window.addEventListener("resize",function(){formatHeightHeader()}),formatPositionHomePage(),window.addEventListener("scroll",function(){formatPositionHomePage()}),checkInViewPosition($(".animate-support")),$(window).scroll(function(){checkInViewPosition($(".animate-support"))}),$("a.btn-select-theme").click(function(e){return $("#slug-hidden").val($(this).attr("data-slug")),$("#select-theme-model").modal({fadeDuration:250,fadeDelay:1.5,escapeClose:!1,clickClose:!1}),!1})});