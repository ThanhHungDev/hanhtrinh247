function validate_email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}$(document).ready(function(){$(".form-register").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},rules:{email:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},emailValidate:!0},password:{required:!0,minlength:6,maxlength:32},confirm_password:{required:!0,minlength:6,maxlength:32,equalTo:"#password"}},messages:{email:{required:"メールアドレスは必須です。",emailValidate:"メールアドレスが無効です。"},password:{required:"パスワードは必須です。",minlength:"パスワードは6文字以上、32文字以下でなければなりません。",maxlength:"パスワードは6文字以上、32文字以下でなければなりません。"},confirm_password:{required:"パスワード確認は必須です。",minlength:"パスワードは6文字以上、32文字以下でなければなりません。",maxlength:"パスワードは6文字以上、32文字以下でなければなりません。",equalTo:"パスワード確認はパスワードと一致しません。"}},errorPlacement:function(e,a){(a=a.closest(".form-validate").find(".form-error")).html(""),e.appendTo(a)}})}),$.validator.addMethod("emailValidate",function(e){return validate_email(e)});