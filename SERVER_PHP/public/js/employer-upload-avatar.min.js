function deleteImageByType(a,t,e){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:e,type:"post",dataType:"json",data:{type:a,fileName:t},success:function(a){$(".delete_avatar").attr("data-status",""),$('img[type="avatar"]').attr("alt","")}})}function uploadAvatar(a){let t=a.files[0];var e=new FileReader;e.readAsDataURL(t),e.onload=function(a){var t=a.target.result;$('img[type="avatar"]').attr("src",t)};let r=new FormData;r.append("file",t);let n=$(".form-upload-avatar").attr("action"),i=$('input[name="link_image"]').val();$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:n,type:"post",enctype:"multipart/form-data",data:r,cache:!1,contentType:!1,processData:!1,success:function(a){a=JSON.parse(a);let t=i+a.path;$('img[type="avatar"]').attr("src",t),$('img[type="avatar"]').attr("alt",a.name),$(".delete_avatar").attr("data-status","active")}})}$(".em-avatar img").click(function(){$('input[name="avatar"]').trigger("click")}),$(".delete_avatar").click(function(){if("active"==$(this).attr("data-status")){let a=$('input[name="link_image_df"]').val(),t=$(".form-delete-avatar").attr("action"),e=$('img[type="avatar"]').attr("alt"),r=$('input[name="type_upload_file"]').val();$('img[type="avatar"]').attr("src",a),""!=e?deleteImageByType(r,e,t):alert("waiting..")}});