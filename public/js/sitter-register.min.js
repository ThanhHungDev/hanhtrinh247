function check_birthday(){let e=$("#sl-box-year").val(),t=$("#sl-box-month").val(),r=$("#sl-box-day").val();if(""==e||""==t||""==r)return!0;{let i=new Date(e,t,r);return i.getDate()==r&&Date.now()>i.getTime()}}function validate_email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkHyphen(e){return e.indexOf("-")>=0}$(document).ready(function(){$("#sitter-register").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},rules:{first_name:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},last_name:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},first_name_furigana:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},last_name_furigana:{required:{depends:function(){return $.trim($(this).val())||$(this).val($.trim($(this).val())),!0}},minlength:1,maxlength:255},gender:"required",birth_year:{checkBirthDay:!0,required:!0},birth_month:{checkBirthDay:!0,required:!0},birth_day:{checkBirthDay:!0,required:!0},post_code:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:8},pref:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:100},town:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},minlength:1,maxlength:100},phone:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},checkHyphen:!0,number:!0,minlength:10,maxlength:11},email:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},emailValidate:!0},password:{required:!0,minlength:8,maxlength:32},confirm_password:{required:!0,minlength:8,maxlength:32,equalTo:"#password"},check_accept:{required:!0}},messages:{first_name:{required:"苗字を入力して下さい。",minlength:"苗字は1桁以上、255桁以下でなければなりません。",maxlength:"苗字は1桁以上、255桁以下でなければなりません。"},last_name:{required:"名前を入力して下さい。",minlength:"お名前（名）は1桁以上、255桁以下でなければなりません。",maxlength:"お名前（名）は1桁以上、255桁以下でなければなりません。"},first_name_furigana:{required:"苗字（フリガナ）を入力して下さい。",minlength:"苗字（フリガナ）は1桁以上、255桁以下でなければなりません。",maxlength:"苗字（フリガナ）は1桁以上、255桁以下でなければなりません。"},last_name_furigana:{required:"名前（フリガナ）を入力して下さい。",minlength:"名前（フリガナ）は1桁以上、255桁以下でなければなりません。",maxlength:"名前（フリガナ）は1桁以上、255桁以下でなければなりません。"},gender:{required:"性別を選択して下さい。"},birth_year:{checkBirthDay:"生年月日が不正です。",required:"年を入力して下さい"},birth_month:{checkBirthDay:"生年月日が不正です。",required:"月を入力して下さい"},birth_day:{checkBirthDay:"生年月日が不正です。",required:"日を入力して下さい"},post_code:{required:"郵便番号を入力して下さい。",minlength:"郵便番号は1桁以上、255桁以下でなければなりません。",maxlength:"郵便番号は1桁以上、255桁以下でなければなりません。"},pref:{required:"都道府県を選択して下さい。"},town:{required:"市区町村と番地を入力して下さい。"},phone:{required:"電話番号を入力して下さい。",checkHyphen:"ハイフンは不要です",number:"電話番号は数字を入力してください。",minlength:"電話番号は10桁以上、11桁以下でなければなりません。",maxlength:"電話番号は10桁以上、11桁以下でなければなりません。"},email:{required:"メールアドレスを入力して下さい。",emailValidate:"メールアドレスが不正です。"},password:{required:"パスワードを入力して下さい。",minlength:"パスワードは半角英数文字8文字以上にする必要があります。",maxlength:"パスワードは半角英数文字8文字以上にする必要があります。"},confirm_password:{required:"パスワード確認入力して下さい。",minlength:"パスワードは半角英数文字8文字以上にする必要があります。",maxlength:"パスワードは半角英数文字8文字以上にする必要があります。",equalTo:"パスワード確認はパスワードと一致しません。"},check_accept:{required:"登録には利用規約とプライバシーポリシーに同意していただく必要があります。"}},errorPlacement:function(e,t){(t=t.closest(".form-validate").find(".form-error")).html(""),e.appendTo(t)}})}),jQuery.validator.addMethod("checkBirthDay",function(){return check_birthday()}),jQuery.validator.addMethod("emailValidate",function(e){return validate_email(e)}),jQuery.validator.addMethod("checkHyphen",function(e){return!checkHyphen(e)}),$("#btn-post-code").on("click",function(){$("#sl-box-pref").val(""),$("#inp-town").val(""),$("#inp-address").val(""),$("#inp-post-code").change()}),$("#inp-post-code").jpostal({postcode:["#inp-post-code"],address:{"#sl-box-pref":"%3","#inp-town":"%4, %5"}}),$("#inp-post-code").keyup(function(){let e=$(this).val();e.length<=8?e.length>3&&e.indexOf("-")<0&&$(this).val(e.substr(0,3)+"-"+e.substr(3)):$(this).val(e.substr(0,8))});