function validateChilds(e){var i=!0;$(".form-error").html("");for(let a=0;a<e;a++){let e=$('input[name="first_name_child_'+a+'"]').val().trim();e||(console.log(e),showErrors('input[name="first_name_child_'+a+'"]',1,"お子様の苗字を入力して下さい。"),i=!1),$('input[name="last_name_child_'+a+'"]').val().trim()||(showErrors('input[name="last_name_child_'+a+'"]',1,"お子様の名前を入力して下さい。"),i=!1),$('input[name="first_name_furigana_child_'+a+'"]').val().trim()||(showErrors('input[name="first_name_furigana_child_'+a+'"]',1,"お子様の苗字（フリガナ）を入力して下さい。"),i=!1),$('input[name="last_name_furigana_child_'+a+'"]').val().trim()||(showErrors('input[name="last_name_furigana_child_'+a+'"]',1,"お子様の名前（フリガナ）を入力して下さい。"),i=!1),!$('input[name="gender_child_'+a+'"]:checked').length>0&&(showErrors('input[name="gender_child_'+a+'"]',2,"お子様の性別を選択してください。"),i=!1),""==$('select[name="y_birth_child_'+a+'"]').val()&&(showErrors('select[name="y_birth_child_'+a+'"]',2,"お子様の生年を入力して下さい。"),i=!1),""==$('select[name="m_birth_child_'+a+'"]').val()&&(showErrors('select[name="m_birth_child_'+a+'"]',2,"お子様の生月を入力して下さい。"),i=!1),""==$('select[name="d_birth_child_'+a+'"]').val()&&(showErrors('select[name="d_birth_child_'+a+'"]',2,"お子様の生日を入力して下さい。"),i=!1)}return i}function showErrors(e,i,a){var r="";r=1==i?$(e).parent():$(e).parent().parent(),$(r).find(".form-error").html(a)}function validateForm(e){e.validate({submitHandler:function(e){return validateChilds($(".select_person").val())},rules:{type_upload:{required:!0},input_file_front:{required:!0},input_file_back:{required:!0},first_name_fa:{required:!0,maxlength:255},last_name_fa:{required:!0,maxlength:255},first_name_furigana_fa:{required:!0,maxlength:255},last_name_furigana_fa:{required:!0,maxlength:255},y_birth_fa:{required:!0},m_birth_fa:{required:!0},d_birth_fa:{required:!0},first_name_mom:{required:!0,maxlength:255},last_name_mom:{required:!0,maxlength:255},first_name_furigana_mom:{required:!0,maxlength:255},last_name_furigana_mom:{required:!0,maxlength:255},y_birth_mom:{required:!0},m_birth_mom:{required:!0},d_birth_mom:{required:!0},check_accept:{required:!0}},messages:{type_upload:{required:"本人確認書類を選択してください。"},input_file_front:{required:"画像を選択してください。"},input_file_back:{required:"画像を選択してください。"},first_name_fa:{required:"夫の苗字を入力して下さい。",maxlength:"姓 maxlength is 255 characters"},last_name_fa:{required:"夫の名前を入力して下さい。",maxlength:"名 maxlength is 255 characters"},first_name_furigana_fa:{required:"夫の苗字（フリガナ）を入力して下さい。",maxlength:"セイ maxlength is 255 characters"},last_name_furigana_fa:{required:"夫の名前（フリガナ）を入力して下さい。",maxlength:"メイ maxlength is 255 characters"},y_birth_fa:{required:"誕生年を入力してください"},m_birth_fa:{required:"誕生月を入力してください"},d_birth_fa:{required:"誕生日を入力してください"},first_name_mom:{required:"妻の苗字を入力して下さい。",maxlength:"姓 maxlength is 255 characters"},last_name_mom:{required:"妻の名前を入力して下さい。",maxlength:"名 maxlength is 255 characters"},first_name_furigana_mom:{required:"妻の苗字（フリガナ）を入力して下さい。",maxlength:"セイ maxlength is 255 characters"},last_name_furigana_mom:{required:"妻の名前（フリガナ）を入力して下さい。",maxlength:"メイ maxlength is 255 characters"},y_birth_mom:{required:"妻の生年を入力して下さい。"},m_birth_mom:{required:"妻の生月を入力して下さい。"},d_birth_mom:{required:"妻の生日を入力して下さい。"},check_accept:{required:"登録には利用規約とプライバシーポリシーに同意していただく必要があります"}},errorPlacement:function(e,i){i=i.closest(".form-validate").find(".form-error");e.appendTo(i)}})}$(function(){$('select[name="child_number"]').change(function(){let e=$(this).val();if($(".number_child").text(e),""!=e){$(".list-childs").html("");let i=parseInt(e);for(let e=0;e<i;e++){$(".childs-hidden").find(".number_child").text(e+1),$(".childs-hidden").find('input[name="first_name_child_0"]').attr("name","first_name_child_"+e),$(".childs-hidden").find('input[name="last_name_child_0"]').attr("name","last_name_child_"+e),$(".childs-hidden").find('input[name="first_name_furigana_child_0"]').attr("name","first_name_furigana_child_"+e),$(".childs-hidden").find('input[name="last_name_furigana_child_0"]').attr("name","last_name_furigana_child_"+e),$(".childs-hidden").find('input[name="gender_child_0"]').attr("name","gender_child_"+e),$(".childs-hidden").find('select[name="y_birth_child_0"]').attr("name","y_birth_child_"+e),$(".childs-hidden").find('select[name="m_birth_child_0"]').attr("name","m_birth_child_"+e),$(".childs-hidden").find('select[name="d_birth_child_0"]').attr("name","d_birth_child_"+e),$(".childs-hidden").find('input[name="allergic_0"]').attr("name","allergic_"+e),$(".childs-hidden").find('input[name="chronic_0"]').attr("name","chronic_"+e);let i="";i=$(".childs-hidden").html(),$(".list-childs").append(i),$(".childs-hidden").find('input[name="first_name_child_'+e+'"]').attr("name","first_name_child_0"),$(".childs-hidden").find('input[name="last_name_child_'+e+'"]').attr("name","last_name_child_0"),$(".childs-hidden").find('input[name="first_name_furigana_child_'+e+'"]').attr("name","first_name_furigana_child_0"),$(".childs-hidden").find('input[name="last_name_furigana_child_'+e+'"]').attr("name","last_name_furigana_child_0"),$(".childs-hidden").find('input[name="gender_child_'+e+'"]').attr("name","gender_child_0"),$(".childs-hidden").find('select[name="y_birth_child_'+e+'"]').attr("name","y_birth_child_0"),$(".childs-hidden").find('select[name="m_birth_child_'+e+'"]').attr("name","m_birth_child_0"),$(".childs-hidden").find('select[name="d_birth_child_'+e+'"]').attr("name","d_birth_child_0"),$(".childs-hidden").find('input[name="allergic_'+e+'"]').attr("name","allergic_0"),$(".childs-hidden").find('input[name="chronic_'+e+'"]').attr("name","chronic_0")}}}),$(".upload-file").click(function(){let e=$(this).attr("data-name");$('input[name="'+e+'"]').trigger("click")}),$('input[data-type="upload"]').change(function(e){var i=e.target,a=new FileReader,r=$(this);if($(".validate-image").text(""),i.files&&i.files[0]){var n=i.files[0].type,t=["image/gif","image/png","image/jpg","image/jpeg"];if(n!=t[0]&&n!=t[1]&&n!=t[2]&&n!=t[3])return $(".validate-image").text("サポートされていないファイル"),void $(r).val("");a.readAsDataURL(i.files[0]),a.onload=function(e){var i="div[data-name='"+$(r).attr("name")+"'";$(i).css("background","unset");var a='<img src="'+e.target.result+'" alt="">';a&&$(i).html(a)}}}),$(document).ready(function(){var e=$(".register_parent_form");e.length&&validateForm(e)}),$(".register_parent_form .btn-register").click(function(){validateChilds($(".select_person").val())})});