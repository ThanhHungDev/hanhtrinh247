function validate_email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}$(document).ready(function(){$("#inp-detect").val(JSON.stringify(detectClient())),$(".form-register").validate({onfocusout:function(e){$(e).valid()},invalidHandler:function(){$(this).find(".form-validate .error:first").focus()},rules:{email:{required:{depends:function(){return!$.trim($(this).val())&&($(this).val($.trim($(this).val())),!0)}},emailValidate:!0},password:{required:!0,minlength:6,maxlength:32}},messages:{email:{required:"メールアドレスを入力して下さい。",emailValidate:"メールアドレスが異なります。"},password:{required:"パスワードを入力して下さい。",minlength:"パスワードが異なります。",maxlength:"パスワードが異なります。"}},errorPlacement:function(e,i){(i=i.closest(".form-validate").find(".form-error")).html(""),e.appendTo(i)}})}),$.validator.addMethod("emailValidate",function(e){return validate_email(e)});